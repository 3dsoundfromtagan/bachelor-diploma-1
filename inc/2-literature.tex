\section{Обзор литературных источников}

\iffalse
Что я рассказал во введении:
\begin{itemize}
  \item что такое облачные услуги
  \item что такое iaas
  \item для чего нужна виртуализация
\end{itemize}

Примерно на 15-20 страниц.
\begin{itemize}
  \item облака + 
  \item ДЦ, типы для чего нужны tier iii + 
  \item виртуализация
  \item виды виртуализации
  \item контейнерная виртуализация
  \item представители openvz, virtuozzo, docker, lxc, Linux-VServer, solaris zones, jails, 
  \item использование
  \item перспективы в виртуализации
\end{itemize}
\fi

Термин <<облачные вычисления>> сегодня уже достаточно хорошо известен и в информационных технологиях (IT), и в бизнес-кругах.
Почти каждую неделю появляются новые статьи, книги, презентации об облачных вычислениях --- новой сервисной модели предоставления вычислительных услуг.

За время существования информационных технологий сменилось несколько моделей построения информационных систем.
Все начиналось с монолитной архитектуры (mainframe), когда и база данных, и приложения работали на одном большом компьютере, а пользователи сидели у <<тонких>> терминалов, которые только отображали информацию.
У такой архитектуры было много недостатков, и ее сменили более перспективная архитектура <<клиент-сервер>>.
В ней был свой выделенный сервер баз данных, и пользователи на <<толстых>> клиентах, разгружая сервер БД.
Затем появилась еще более современная архитектура --- многоуровневая (или трехуровневая), где логика приложений была вынесена на отдельных компьютер, называемый сервером приложений, а пользователи работали на <<тонких>> клиентах через веб-браузеры.
Большинство приложений сегодня выполнено именно в этой архитектуре.
Она подразумевает развертывание всей IT-инфраструктуры на территории заказчика. \cite{oracle-db}

Облачные вычисления --- это следующий шаг в эволюции архитектуры построения информационных систем.
Благодаря огромным преимуществам этого подхода очевидно, что многие информационные системы в ближайшее время будут перенесены в облако.
Этот процесс уже начался, и его игнорирование или недооценка может привести к поражению в конкурентной борьбе на рынке.
Имеется ввиду не только отставание IT, или неоправданные затраты на него, но и отставание в развитии основного бизнеса компании, зависящего от гибкости IT-инфраструктуры и скорости вывода новых сервисов и продуктов на рынок.

IT-директор американского правительства Вивек Кундра, в феврале 2011 года опубликовал стратегию стратегию переноса части информационных систем в облако.
Документ под названием <<Federal Cloud Computing Strategy>> четко описывает порядок и сроки переноса. 
Цель работ --- уменьшение сложности и повышение управляемости IT, увеличение нагрузки оборудования до 70-80\%, уменьшение количества центров обработки данных.

Основным требованием, предъявляемым к центрам обработки данных является отказоустойчивость.
При этом подразумевается отключение ЦОД как на время планово-предупредительных работ и профилактики оборудования, так и внеплановых аварийных ситуаций.

Классификация Tier описывает надежность функционирования ЦОД и является необходимой для компаний, как желающих построить свой ЦОД, так и для арендующих чужие вычислительные мощности.
В зависимости от критичности бизнеса, в зависимости от потерь, которые понесет компания в случае остановки бизнес-процессов выбирается тот или иной уровень надежности.
В свою очередь, высокий уровень надежности требует высоких материальных и эксплуатационных затрат, поэтому и стоимость вычислительных мощностей зависит от уровня надежности ЦОД. \cite{dc-tier}

На сегодняшний день существует четыре уровня надежности ЦОД названные Tier I, Tier II, Tier III и Tier IV, которые были введены организацией Uptime Institute (Институт бесперебойных процессов, США):
\begin{itemize}
  \item Tier I: время простоя 28,8 часов в год, коэффициент отказоустойчивости 99,671\%;
  \item Tier II: 22,0 часа в год, 99,749\%;
  \item Tier III: 1,6 часа в год, 99,982\%;
  \item Tier IV: 0,4 часа в год, 99,995\%.
\end{itemize}

ЦОД уровня Tier I (базовый уровень) подвержен нарушениями работы как от плановых, так и от внеплановых действий.
Применение фальшпола, источников бесперебойного питания (ИБП), дизель-генераторных установок (ДГУ) не обязательно.
Если ИБП и ДГУ используются, то выбираются более простые модели, без резерва, с множеством точек отказа.
Возможны самопроизвольные отказы оборудования.
К простою ЦОД также приведут ошибки в действиях обслуживающего персонала.
В таких ЦОД отсутствует защита от случайных и намеренных событий, обусловленных действиями человека.

В ЦОД уровня Tier II (с резервированными компонентами) время простоя возможно в связи с плановыми и внеплановыми работами, а также аварийными ситуациями, однако оно сокращено благодаря внедрению одной резервной единицы оборудования в каждой системе.
Таким образом, системы кондиционирования, ИБП и ДГУ имеют одну резервную единицу, тем не менее, профилактические работы требуют отключения ЦОД.
В центрах обработки данных с резервированными компонентами требуется наличие минимальных защитных мер от влияния человека.

Третий уровень надежности (уровень с возможность параллельного проведения ремонтных работ) требует осуществления любой плановой деятельности без остановки ЦОД.
Под плановыми работами подразумевается профилактическое и программируемое техническое обслуживание, ремонт и замена компонентов, добавления или удаление компонентов, а также их тестирование.
В таком случае необходимо иметь резерв, благодаря которому можно пустить всю нагрузку по другому пути, во время работ на первом.
Для реализации Tier III необходима схема резервирования блоков схем кондиционирования, ИБП, ДГУ N+1, также требуется наличие двух комплектов трубопроводов для системы кондиционирования, построенной на основе чиллера (холодильной машины).
Строительные требования обязывают сохранять работоспособность ЦОД при большинстве случаев намеренных и случайных вмешательств человека.
Также следует предусмотреть резервные входы, дублирующие подъездные пути, контроль доступа, отсутствие окон, защиту от электромагнитного изучения.

Четвертый уровень надежности ЦОД (отказоустойчивый) характеризуется безостановочной работой при проведении плановых мероприятий и способен выдержать один серьезный отказ без последствий для критически важной нагрузки.
Необходим дублированный подвод питания, резервирование системы кондиционирования и ИБП по схеме 2(N+1).
Для дизель-генераторных установок необходима отдельная площадка с зоной хранения топлива.
Tier IV требует защиту от всех потенциальных проблем в связи с человеческим фактором.
Регламентированы избыточные средства защиты от намеренных или случайных действий человека.
Учтено влияние сейсмоявлений, потопов, пожаров, ураганов, штормов, терроризма.

Дата-центры по виду использования подразделяют на корпоративные и коммерческие (аутсорсинговые).
Корпоративные ДЦ предназначены для обслуживания конкретной компании, коммерческие, в свою очередь, предоставляет услуги всем желающим.

Некоторые ДЦ предлагают клиентам дополнительные услуги по использованию оборудования по автоматическому уходу от различных видов атак.
Команда специалистов круглосуточно производит мониторинг серверов.
Для обеспечения сохранности данных используются системы резервного копирования.
Для предотвращения кражи данных, в дата-центрах используются различные системы ограничения физического доступа, системы видеонаблюдения.

Дата-центры предоставляют несколько основных типов услуг, среди которых:
\begin{itemize}
  \item Виртуальный хостинг (shared hosting);
  \item Виртуальный сервер (virtual private/dedicated server);
  \item Выделенный сервер (dedicated server);
  \item Размещение сервера (colocation);
  \item Выделенная зона (dedicated area).
\end{itemize}

Виртуальный хостинг используется для размещения большого количества сайтов на одном веб-сервере.
В основном это типичный стек технологий LAMP, где в качестве операционной системы выступает GNU/Linux, веб-сервер Apache (зачастую в связке с nginx), сервер баз данных MySQL, PostgreSQL, интерпретируемые скриптовые языки PHP, Perl, Python.
Существует решение на базе ОС Windows Server, где в качестве веб-сервера используется IIS, СУБД MySQL, MS SQL а также поддержка платформы ASP.NET.
Разделение ресурсов на shared hosing основывается на ограничении дискового пространства, сетевого трафика, количества используемых доменов, почтовых ящиков, баз данных, FTP-аккаунтов, ограничение на использование процессорного времени, памяти для PHP-скриптов и так далее.

Виртуальный выделенный сервер эмулирует работу отдельного физического сервера.
На одной физической машине может быть запущено несколько виртуальных серверов, при этом каждый виртуальный сервер имеет свои процессы, ресурсы и отдельное администрирование.
Для реализации виртуальных машин используются технологии виртуализации, как системы с открытым исходным кодом, так и коммерческие.

В случае выделенного сервера, клиенту целиком предоставляется отдельная физическая машина.
Владелец сервера имеет возможность смены конфигурации оборудования, установки любой операционной системы.
Такой тип хостинга подходит для высоконагруженных проектов.

Colocation отличается от услуги предоставления выделенного сервера тем, что ДЦ размещает у себя сервер, который заранее подготовил клиент.
Дата-центр подключает его в общую инфраструктуру ЦОДа, обеспечивает бесперебойное электропитание, охлаждение, доступ к сетевому каналу, удаленный доступ к серверу, охрану, мониторинг и другие услуги.

Выделенная зона предоставляется в основном для специальных клиентов, имеющих строгие нормы безопасности.
В этом случае дата-центр предоставляет выделенную зону, обеспеченную электроснабжением, холодоснабжением и системами безопасности, а клиент сам создает свой дата-центр внутри этого пространства.

Также можно выделить такую услугу, как аренда телекоммуникационных стоек, которая является частным случаем colocation, с отличием в том, что арендаторами в основном являются юридические лица.

% Нужен медленный переход к виртуализации
Облачные вычисления --- это сервисная вычислительная модель, при которой:
\begin{itemize}
  \item Вся IT-инфраструктура находится не у нас, а в облаке.
  Задача клиента --- попросить и быстро получить требуемые вычислительные ресурсы (например компьютер с определенным объемом памяти, операционной системой или системой управления баз данных (СУБД) определенной версии).
  Причем за обеспечение надежности и безопасности работы системы, администрирование и настройку, резервное копирование и восстановление отвечает специально обученный персонал;
  \item Заказ, получение и использование ресурса возможно с любого устройства, где есть доступ к интернету (настольный компьютер, планшет, смартфон, носимая электроника);
  \item Развертывание требуемого ресурса происходит быстро, в течении нескольких минут после ввода требования появляется доступ к затребованному ресурсу и с ним уже можно работать.
  Это важно для развития бизнеса.
  В традиционной модели, развертывание нового вычислительного ресурса может занимаеть недели и месяцы;
  \item Размер выделенных ресурсов (память, емкость жесткого диска, мощность процессоров) может динамично изменяться по мере изменения требований.
  Например, при росте числа пользователей или пиковых нагрузках;
  \item Оплата полученного и используемого вычислительного ресурса производится по факту использования.
  Такой подход позволяет существенно сократить расходы, по сравнению с традиционным методом;
  \item На выделенных ресурсах может быть предустановлено и настроена необходимое программное обеспечение (ПО), например СУБД, веб-сервер.
  Поскольку развертывание ПО происходит из заранее подготовленных шаблонов, то, как правило, программы уже пропатчены и протестированы.
\end{itemize}

При построении облачной инфраструктуры важную роль играет виртуализация.

Виртуализация --- абстракция вычислительных ресурсов и предоставление пользователю системы, которая инкапсулирует (скрывает в себе) собственную реализацию.
Термин <<виртуализация>> появился в шестидесятых годах XX века, а в девяностых --- стали очевидны перспективы подхода: с ростом аппаратных мощностей, как персональных компьютеров, так и серверных решений, вскоре представится возможность использовать несколько виртуальных машин на одной физической платформе.

Понятие виртуализации можно условно разделить на две категории:
\begin{itemize}
  \item Виртуализация платформ, продуктом этого вида виртуализации являются виртуальные машины --- некие программные абстракции, запускаемые на платформе реально аппаратно-программных систем;
  \item Виртуализация ресурсов преследует целью комбинирование или упрощение представления аппаратных ресурсов для пользователя и получение неких пользовательских абстракций оборудования, пространств имен, сетей.
\end{itemize}

Когда производится виртуализация, существует не один способ ее осуществления.
Фактически есть несколько путей, с помощью которых достигаются одинаковые результаты через разные уровни абстракции: \cite{openvz-tutorial}
\begin{itemize}
  \item Эмуляция оборудования;
  \item Полная виртуализация;
  \item Паравиртуализация;
  \item Виртуализация уровня ОС.
\end{itemize}

Эмуляция оборудования является одним из самых сложных методов виртуализации.
В то же время, главной проблемой при эмуляции аппаратных средств является низкая скорость работы, в связи с тем, что каждая команда моделируется на основных аппаратных средствах. 
Однако метод позволяет использовать виртуализированные аппаратные средства еще до выхода реальных.
\addimghere{emulation}{0.35}{Эмуляция оборудования моделирует аппаратные средства}

Полная виртуализация использует гипервизор, который осуществляет связь между гостевой ОС и аппаратными средствами физического сервера.
В связи с тем, что вся работа с гостевой операционной системой проходит через гипервизор, то скорость работы ниже чем в случае прямого взаимодействия с аппаратурой.
Основным преимуществом является то, что в ОС не вносятся никакие изменения, единственное ограничение --- операционная система должна поддерживать основные аппаратные средства.
\addimghere{full_virt}{0.35}{Полная виртуализация использует гипервизор}

Паравиртуализация имеет некоторые сходства с полной виртуализацией.
Этот метод использует гипервизор для разделения доступа к основным аппаратным средствам, но объединяет код, касающийся виртуализации, в непосредственно операционную систему, поэтому недостатком метода является то, что гостевая ОС должна быть изменена для гипервизора.
Но паравиртуализация существенно быстрее полной виртуализации, скорость работы виртуальной машины приближена к скорости реальной.
\addimghere{paravirt}{0.35}{Паравиртуализация разделяет процесс с гостевой ОС}

Виртуализация уровня операционной системы отличается от других.
Она использует технику, при которой сервера виртуализируются непосредственно над ОС.
Недостатком метода является то, что поддерживается одна единственная операционная система на физическом сервере, которая изолирует контейнеры друг от друга.
Преимущество --- родная производительность.
\addimghere{cont_virt}{0.35}{Виртуализация уровня ОС изолирует серверы}


\iffalse
\subsection{Основные понятия и сведения}

Ссылочки еще:
https://ru.wikipedia.org/wiki/%D0%94%D0%B0%D1%82%D0%B0-%D1%86%D0%B5%D0%BD%D1%82%D1%80
https://ru.wikipedia.org/wiki/VPS
https://ru.wikipedia.org/wiki/%D0%92%D1%8B%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80
https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BB%D0%BE%D0%BA%D0%B0%D1%86%D0%B8%D1%8F

Инфра по введению:

\url{http://oracle.ocs.ru/files/catalog_Oracle_Database_12C.pdf}


Кое-какие книжки, которые я помню:
\begin{itemize}
    \item Роберт Лав. Разработка ядра Linux;
    \item Mark Furman -- OpenVZ Essentials, он, кстати, выпустил книгу чуть позже моего руководства, много сопадает с ним;
    \item Еще наверняка будет пара методичек, а-ля "Методические указания к дипломному проекту бакалавра и т.д.".
\end{itemize}

Собственно говоря, используемые мною ресурсы:
\begin{itemize}
    \item \url{http://rain.ifmo.ru/~buzdalov/lab-2011/text-guidelines.html} \\
    Правила оформления отчетов;
    \item \url{http://habrahabr.ru/post/144648/} \\
    Статья на хабре о том, как красиво оформить диплом в LaTeX;
    \item \url{https://github.com/Amet13/openvz-tutorial} \\
    Мое руководство по контейнерам OpenVZ.
    По необходимости дополняется и исправляется;
    \item \url{http://www.hpl.hp.com/techreports/2007/HPL-2007-59R1.pdf} \\
    Статья от HP, в которой они сравнивают между собой производительность Xen и OpenVZ.
    Там представлены классные графики и хорошие расчеты;
    \item \url{https://xakep.ru/2011/08/27/56244/} \\
    Статья в журнале Хакер.
    Очень хорошо рассказывают об OpenVZ.
    Дают базу по OpenVZ, основные команды vzctl, немного рассказывают про User Beancounters.
    В конце есть интересные ссылки на советы (можно их посмотреть), в основном ссылки на статьи с сайта openvz.org;
    \item \url{http://www.ixbt.com/cm/virtualization.shtml} \\
    Классная статья на iXBT.
    Рассказывают о виртуализации в целом.
    Начинают с истории виртуализации, о типах виртуализации, виртуализации ресурсов, применении, достоинствах и недостатках.
    Статья довольно старая, 2007 года. Так что есть над чем подумать, но все равно база остается базой;
    \item \url{http://citforum.ru/operating_systems/virtualization/} \\
    Очень и очень сложная и непонятная для меня статья с CITforum.
    Тут рассказывают о виртуализации со стороны архитекуры компьютера, работа с памятью, аппаратная виртуализация.
    В конце статьи бесполезное сравнение.
    Статья 2006 года, возможно с тех пор что-то и поменялось.
    Надо будет перечитать потому что в первый раз я ничего не понял;
    \item \url{http://goo.gl/rcDUvY} \\
    Статья от ДЦ ColoBridge про управление памятью в Linux.
    Подробно написано про настройку User Beancounters в OpenVZ;
    \item \url{http://www.opennet.ru/docs/RUS/virtuozzo/virtuozzo-linux.html.gz} \\
    Статья с Opennet.ru, которая по сути является переводом официального руководства по OpenVZ 2005 года.
    Что тут сказать, основа основ, но оно абсолютно все устарело, примерно половина из того, что там написано на сегодняшний день в OpenVZ не используется, удалено или усовершенствовано.
    На основе этого руководства строится и моё;
    \item \url{http://www.ibm.com/developerworks/ru/library/l-linuxvirt/index.html} \\
    Статья по типам виртуализации и представителям по каждому типу с IBM developerWorks.
    Очень понятно и наглядно рассказывается об основах, статья 2007 года;
    \item \url{http://www.ibm.com/developerworks/ru/library/cl-hypervisorcompare/} \\
    Статья с того же IBM developersWork о гипервизорах.
    Рассказывает о типах гипервизоров, их различия, сравнение между VMware ESX Server, KVM, Xen и других.
    Каким образом стоит выбирать гипервизор.
    Статья довольно свежая, 2012 года;
    \item \url{http://www.opennet.ru/opennews/art.shtml?num=40126} \\
    Новость с opennet.ru о том, что ждет проект OpenVZ и CRIU в ближайшем будущем.
    Если кратко, то OpenVZ и Parallels Virtuozzo объединяются, сливают все в общую кодовую базу и будут поддерживать один проект.
    Для коммерческих целей будут допиливать разные фичи.
    Также рассказывают о том, почему именно контейнеры сейчас актуальны.
    Кратко написано про CRIU, технология, с помощью которой можно сохранять состояние процессов и спокойно мигрировать не прервав их;
    \item \url{http://openvz.org/Performance} \\
    Бенчмарки производительности OpenVZ по сравнению с другими технологиями виртуализации.
    Графики присутствуют;
    \item \url{http://habrahabr.ru/company/FastVPS/blog/209084/} \\
    Статья с хабра от Павла Одинцова о преимуществах и недостатках контейнерной виртуализации.
\end{itemize}

Ссылки еще, которые я использовал немного:
http://www.lessons-tva.info/archive/nov031.html \\
https://technet.microsoft.com/ru-ru/magazine/jj851176.aspx \\


\subsection{Еще какой-то подраздел}

\subsubsection{А тут еще даже какой-то подподраздел}

Еще параграф.
\fi

\clearpage
