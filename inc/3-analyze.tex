\section{Системный анализ виртуальной инфраструктуры}

На данный момент при анализе и синтезе сложных программных и аппаратных систем все чаще используется системный подход.
Важным моментом для системного подхода является определение структуры системы --- совокупности связей между элементами системы, отражающих их взаимодействие.
Совокупность элементов и связей между ними позволяет судить о структуре системы.

Принципы системного анализа --- это некоторые положения общего характера, являющиеся обобщением опыта работы человека со сложными системами.
Общепринятых формулировок в настоящее время нет, но все формулировки так или иначе описывают одни и те же понятия.
Пренебрежение принципами при проектировании любой нетривиальной технической системы, непременно приводит к потерям того или иного характера, от увеличения затрат в процессе проектирования до снижения качества и эффективности конечного продукта.

Системный анализ выполнен в соответствии с \cite{sys-analyz}.

\subsection{Принцип конечной цели} \label{goal}

Принцип конечной цели --- это абсолютный приоритет конечной цели, он имеет несколько правил:
\begin{itemize}
  \item для проведения системного анализа необходимо, в первую очередь, сформулировать цель функционирования системы, так как не полностью определенные цели влекут за собой неверные выводы;
  \item анализ системы следует вести на базе уяснения основной цели, что позволит определить существенные свойства показателей качества и критериев оценки;
  \item при синтезе систем любая попытка изменения или совершенствования должна оцениваться относительно конечной цели;
  \item цель функционирования искусственной системы задается, как правило, системой, в которой исследуемая система является составной частью.
\end{itemize}

При использовании данного принципа, разрабатываемая виртуальная инфраструктура будет рассматриваться в виде <<черного ящика>>, функционирование которого описывается формулой (\ref{blackbox-eq}):
\begin{equation} \label{blackbox-eq}
\text{Y=F(X, Z)}
\end{equation}
где Y --- выходной вектор системы, который функционально зависит от входного вектора X и вектора внутреннего состояния системы Z (рисунке \ref{blackbox-pic}).
Входными данными (вектор X) будут являться запросы пользователей на обработку и обслуживание.
Внутреннее состояние системы (вектор Z) представляет собой создание услуг по требованию пользователя.
Выходными данными (вектор Y) будут являться предоставление доступа к услугам пользователя.
\addimghere{blackbox}{0.6}{Проектируемая система в виде черного ящика}{blackbox-pic}

В соответствии с данным принципом должна быть четко сформулирована конечная цель --- назначение проектируемой системы и сформирован список функций, которые должна выполнять система.
Кроме того, необходимо определить перечень входных воздействий, на которые реагирует система.

Цель проектирования --- разработка виртуальной инфраструктуры для реализации облачных услуг.
Список функций проектируемой системы:
\begin{itemize}
  \item Ф1 --- прием и регистрация обращений пользователей;
  \item Ф2 --- идентификация и обработка инцидентов и запросов на обслуживание;
  \item Ф3 --- создание, смена, обновление и удаление услуг по требованию;
  \item Ф4 --- предоставление доступа к услугам;
  \item Ф5 --- мониторинг состояния инфраструктуры.
\end{itemize}

Перечень входных воздействий на систему:
\begin{itemize}
  \item внесение изменений данных о заявке;
  \item мониторинг хода решения заявки.
\end{itemize}

\subsection{Принцип единства}

Принцип единства --- это совместное рассмотрение системы как целого и как совокупности частей.
Принцип ориентирован на декомпозицию с сохранением целостных представлений о системе.

На основании функций проектируемой системы, представленных выше, в ней можно выделить следующие подсистемы:
\begin{enumerate}
  \item подсистема взаимодействия с пользователем;
  \item подсистема управления услугами;
  \item подсистема управления инфраструктурой;
  \item подсистема защиты и обеспечения целостности данных.
\end{enumerate}

На рисунке \ref{subsystems} представлена схема взаимодействия между подсистемами.
\addimghere{subsys}{0.8}{Взаимодействие между подсистемами и их связь с окружающей средой}{subsystems}

Обозначения, приведенные на рисунке \ref{subsystems} требуют пояснения:
\begin{itemize}[label={}]
  \item a --- информация, предоставляемая пользователем, передается на сервер;
  \item b --- выходная информация (результат выполнения);
  \item c --- проверка корректности переданных данных;
  \item d --- в случае неправильно введенных данных, возвращается управление к подсистеме взаимодействия с пользователем;
  \item e --- создание услуги;
  \item f --- возврат информации о созданной услуге;
  \item g --- обеспечение целостности информации об услуге;
  \item h --- обеспечение целостности данных пользователя.
\end{itemize}

\subsection{Определение взаимосвязей между подсистемами на основе принципа связности}

Рассмотрение любой части совместно с ее окружением подразумевает проведение процедуры выявления связей между элементами системы и выявление связей со средой.
В соответствии с этим принципом систему в первую очередь следует рассматривать как часть другой системы, называемой суперсистемой или старшей системой.

Подсистема взаимодействия с пользователем представлена на рисунке \ref{user-subsys}.
\addimghere{user-subsys}{1}{Внутренние и внешние связи подсистемы взаимодействия с пользователем}{user-subsys}

Подсистема управления услугами представлена на рисунке \ref{service-subsys}.
\addimghere{service-subsys}{1}{Внутренние и внешние связи подсистемы управления услугами}{service-subsys}

Подсистема управления инфраструктурой представлена на рисунке \ref{infrast-subsys}.
\addimghere{infrast-subsys}{1}{Внутренние и внешние связи подсистемы управления инфраструктурой}{infrast-subsys}

Подсистема защиты и обеспечения целостности данных представлена на рисунке \ref{security-subsys}.
\addimghere{security-subsys}{1}{Внутренние и внешние связи подсистемы защиты и обеспечения целостности данных}{security-subsys}

\subsection{Принцип модульности}

Полезно выделение модулей в системе и рассмотрение ее как совокупности модулей.
Принцип указывает на возможность вместо части системы исследовать совокупность ее входных и выходных воздействий (абстрагирование от излишней детализации).

Принцип модульности для разрабатываемой системы поясняется с помощью рисунке \ref{modules}, описывающего разбиение на модули системы взаимодействия с пользователем.
\addimghere{modules}{1}{Принцип модульности на примере подсистемы взаимодействия с пользователем}{modules}

Излишняя детализация не требуется, поэтому остальные системы на модули принято решение не разбивать.

\subsection{Принцип функциональности}

Принцип утверждает, что любая структура тесно связана с функцией системы и ее частей.
В случае придания системе новых функций полезно пересматривать ее структуру, а не пытаться втиснуть новую функцию в старую схему.
Поскольку выполняемые функции составляют процессы, то целесообразно рассматривать отдельно процессы, функции, структуры.
В свою очередь, процессы сводятся к анализу потоков различных видов:
\begin{itemize}
  \item материальный поток;
  \item поток энергии;
  \item поток информации;
  \item смена состояний.
\end{itemize}

С этой точки зрения структура есть множество ограничений на потоки в пространстве и времени.

Функции подсистем приведены в пункте \ref{goal}.

Матрица инциденций функций системы и функций назначения подсистем приведена в таблице \ref{inc-matrix}.
\begin{table}[H]
  \caption{Матрица инциденций}\label{inc-matrix}
  \begin{tabular}{|c|c|c|c|c|c|}
  \hline \multirow{2}{*}{Функции} & \multicolumn{4}{|c|}{Подсистемы} & \multirow{2}{*}{Виртуальная инфраструктура} \\
  \cline{2-5} & 1 & 2 & 3 & 4 & \\
  \hline Ф1 & + & & & & + \\
  \hline Ф2 & + & & & & + \\
  \hline Ф3 & & + & & & + \\
  \hline Ф4 & & + & & & + \\
  \hline Ф5 & & & + & + & + \\
  \hline 
  \end{tabular}
\end{table}

В матрице инциденций знаком <<+>> обозначены функции, которые реализуются для каждой из подсистем.

Детализация функций подсистемы на примере подсистемы взаимодействия с пользователем:
\begin{enumerate}
  \item регистрация и авторизация пользователя в платежной системе;
  \item обеспечение перечня услуг;
  \item обеспечение возможных способов оплаты услуг;
  \item возможность уточнения или изменения услуги.
\end{enumerate}

Входными данными для подсистемы является информация о пользователе, а выходными --- подтвержденный заказ услуг.

\subsection{Принцип иерархии}

Полезно введение иерархии частей и их ранжирование, что упрощает разработку системы и устанавливает порядок рассмотрения частей.
Разработка иерархий классов является нетривиальной задачей.
Грамотно спроектированные иерархии классов позволяют создавать высокоэффективные системы.
Плохо спроектированная иерархия приводит к созданию сложных и запутанных систем.

Выполнение принципа иерархичности для разрабатываемой системы на примере подсистемы защиты и обеспечения целостности данных проиллюстрировано на рисунке \ref{hierarchy-princ}.
\addimghere{hierarchy-princ}{1}{Принцип иерархии на примере подсистемы защиты и обеспечения целостности данных}{hierarchy-princ}

\subsection{Принцип сочетания централизации и децентрализации}

Степень централизации должна быть минимальной, обеспечивающей выполнение поставленной цели.
Соотношение централизации и децентрализации определяется уровнями, на которых вырабатываются и принимаются управленческие решения.

Недостаток децентрализованного управления --- увеличение времени адаптации системы.
Он существенно влияет на функционирование системы в быстро меняющихся средах.
То, что в централизованных системах можно сделать за короткое время, в децентрализованной системе будет осуществляться весьма медленно.
Данный недостаток нивелируется налаживанием горизонтальных связей.

Недостатком централизованного управления является сложность управления из-за огромного потока информации, подлежащей переработке в старшей системе управления.
Поэтому в сложной системе обычно присутствуют два уровня управления.
В медленно меняющейся обстановке децентрализованная часть системы успешно справляется с адаптацией поведения системы к среде и с достижением глобальной цели системы за счет оперативного управления, а при резких изменениях среды осуществляется централизованное управление по переводу системы в новое состояние.

Например, можно выполнить декомпозицию подсистемы взаимодействия с пользователем таким образом:
\begin{enumerate}
  \item подсистема работы с пользователями;
  \item подсистема работы пользователей с услугами;
  \item подсистема учета финансовых средств.
\end{enumerate}

Такое разбиение позволит реализовать полученные подмножества в виде отдельных модулей.

\subsection{Принцип развития}

Учет изменяемости системы, ее способности к развитию, адаптации, расширению, замене частей, накапливанию информации.
В основу синтезируемой системы требуется закладывать возможность развития, наращивания усовершенствования.
Обычно расширение функций предусматривается за счет обеспечения возможности включения новых модулей, совместимых с уже имеющимися.
С другой стороны, при анализе принцип развития ориентирует на необходимость учета предыстории развития системы и тенденций, имеющихся в настоящее время, для вскрытия закономерностей ее функционирования.

Одним из способов учета этого принципа разработчиками является рассмотрение системы относительно ее жизненного цикла.
Условными фазами жизненного цикла являются: проектирование, изготовление, ввод в эксплуатацию, эксплуатация, наращивание возможностей (модернизация), вывод из эксплуатации (замена), уничтожение.

Отдельные авторы этот принцип называют принципом изменения (историчности) или открытости.
Для того чтобы система функционировала, она должна изменяться, взаимодействовать со средой.

Проектируемая система может быть развита следующим образом:
\begin{itemize}
  \item добавлением модуля конвертации валюты для оплаты услуги;
  \item расширением перечня услуг;
  \item внедрением дополнительных технологий виртуализации;
  \item увеличением штата технической поддержки;
  \item введением расширенного мониторинга;
  \item многоуровневой защитой от атак на отказ;
  \item расширением памяти на системах хранения данных;
  \item многоуровневой репликацией и резервным копированием.
\end{itemize}

\subsection{Принцип учета случайностей}

Принцип утверждает, что можно иметь дело с системой, в которой структура, функционирование или внешние воздействия не полностью определены.

Сложные системы не всегда подчиняются вероятностным законам.
В таких системах можно оценивать <<наихудшие ситуации>> и рассмотрение проводить для них.
Этот способ обычно называют методом гарантируемого результата.
Он применим, когда неопределенность не описывается аппаратом теории вероятностей.

При наличии информации о вероятностных характеристиках случайностей можно определять вероятностные характеристики выходов в системе.

События и действия, некорректные с точки зрения правил функционирования системы:
\begin{itemize}
  \item попытка заказа услуги без наличия финансовых средств на счету;
  \item неподтвержденные заказы услуг;
  \item сбой в работе аппаратуры, в частности устройств хранения данных;
  \item сбой сети в в пределах дата-центра или на магистрали;
  \item отсутствие своевременной работы технической поддержки;
  \item ошибки и уязвимости в используемых программных платформах.
\end{itemize}

Кроме того, необходимо вести контроль успешности и целостности проведения операций с компонентами системы, данными пользователей и корректно обрабатывать исключения, возникновение которых возможно в процессе работы системы.

Перечисленные принципы обладают высокой степенью общности.
Такая интерпретация может привести к обоснованному выводу о незначимости какого-либо принципа.
Однако знание и учет принципов позволяют лучше увидеть существенные стороны решаемой проблемы, учесть весь комплекс взаимосвязей, обеспечить системную интеграцию.

\clearpage
